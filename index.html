<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å­¦ä¸­æ–‡ | Learn Chinese</title>
    
    <!-- Content Security Policy - é™åˆ¶èµ„æºåŠ è½½æ¥æºï¼Œé˜²æ­¢ XSS æ”»å‡» -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://www.googletagmanager.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; connect-src 'self' https://www.googletagmanager.com; font-src 'self' data:; frame-src 'self';">
    
    <!-- é¢„åŠ è½½å…³é”®èµ„æº -->
    <link rel="preload" href="src/css/style.css" as="style">
    <link rel="preload" href="src/js/app.js" as="script">
    <link rel="preload" href="src/js/lib/hanzi-writer.min.js" as="script">
    
    <!-- Base æ ‡ç­¾ï¼šå¸®åŠ©æµè§ˆå™¨æ­£ç¡®è§£æç›¸å¯¹è·¯å¾„ -->
    <!-- æ³¨æ„ï¼šåœ¨æœ¬åœ°å¼€å‘æ—¶å¯èƒ½éœ€è¦æ³¨é‡Šæ‰æ­¤è¡Œ -->
    <!-- <base href="./"> -->
    
    <!-- PWA é…ç½® -->
    <link rel="manifest" href="src/data/manifest.json">
    <meta name="theme-color" content="#4CAF50">
    
    <!-- æ ¸å¿ƒè¯­è¨€å­—ä½“ (ä¸­æ–‡å’Œè‹±æ–‡) -->
    <style>
        /* ä½¿ç”¨AR PL UKaiå­—ä½“ */
        @font-face {
            font-family: 'AR PL UKai';
            font-style: normal;
            font-weight: 400;
            src: local('AR PL UKai'), local('ARPLUKaiCN');
            font-display: swap;
        }
    </style>
    
    <!-- CSS -->
    <link rel="stylesheet" href="src/css/style.css?v=3.16">
    
    <!-- ç¬¬ä¸‰æ–¹åº“ -->
    <!-- HanziWriteråº“ æœ¬åœ°å¼•ç”¨ -->
    <script src="src/js/lib/hanzi-writer.min.js"></script>
    
    <!-- html2canvasåº“ç”¨äºæˆªå±åˆ†äº«ï¼ˆåŠ¨æ€åŠ è½½ï¼Œä»…åœ¨éœ€è¦æ—¶åŠ è½½ï¼‰ -->
    
    <!-- å›¾æ ‡ -->
    <link rel="icon" type="image/png" href="./icon/icon-1024.png">
    <link rel="icon" type="image/png" sizes="192x192" href="./icon/icon-1024.png">
    <link rel="apple-touch-icon" href="./icon/icon-1024.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./icon/icon-1024.png">
    
    <!-- iOS PWA æ”¯æŒ -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="NihaoAPP">
    
    <!-- Android PWA æ”¯æŒ -->
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- æè¿°ä¿¡æ¯ -->
    <meta name="description" content="å­¦ä¹ ä¸­æ–‡çš„PWAåº”ç”¨,æ”¯æŒå¤šç§ä¸œå—äºšè¯­è¨€">
    <meta name="keywords" content="å­¦ä¸­æ–‡,ä¸­æ–‡å­¦ä¹ ,è¶Šå—è¯­,å°å°¼è¯­,ä¸œå—äºšè¯­è¨€,PWA">
</head>
<body>
    <!-- è¯­è¨€åˆ‡æ¢å™¨ -->
    <div class="language-switcher" id="language-switcher" style="display: none;">
        <span class="language-flag" id="current-language-flag">ğŸ‡»ğŸ‡³</span>
        <span class="language-code" id="current-language-code">VI</span>
    </div>

    <!-- è¯­è¨€é€‰æ‹©æ¨¡æ€æ¡†ï¼ˆé¦–æ¬¡è®¿é—®æ˜¾ç¤ºï¼‰ -->
    <div id="language-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <p class="subtitle">æ¯è¯­ (Native language)</p>
            </div>
            
            <div class="language-grid" id="language-grid">
                <!-- è¯­è¨€é€‰é¡¹å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <div class="modal-footer">
                <button id="confirm-language" class="primary-btn confirm-large" disabled>
                    ç¡®è®¤ / confirm
                </button>
            </div>
        </div>
    </div>

    <!-- ä¸»åº”ç”¨å®¹å™¨ -->
    <div id="app" class="app" style="display: none;">
        <!-- ä¸‰å¤§å¡ç‰‡å®¹å™¨ï¼šå æ»¡ä¸»è¦é«˜åº¦ -->
        <div class="cards-container">
            <!-- ç¬¬1ä¸ªå¡ç‰‡ -->
            <div class="card-1 card">
                <button id="theme-toggle" class="theme-toggle" aria-label="åˆ‡æ¢ä¸»é¢˜">ğŸŒ™</button>
                
                <div class="chinese-content">
                    <div class="pinyin" id="pinyin">hÇo hÇo xuÃ© xÃ­</div>
                    <div class="chinese" id="chinese">å¥½å¥½å­¦ä¹ </div>
                </div>
                
                <button class="favorite-btn" id="favorite-btn" aria-label="æ”¶è—">â˜†</button>
            </div>

            <!-- ç¬¬2ä¸ªå¡ç‰‡ -->
            <div class="card-2 card">
                <div class="translation" id="card-2-translation">Há»c táº­p chÄƒm chá»‰</div>
                <div class="english-translation" id="card-2-english">Study hard</div>
                <div class="explanation" id="card-2-explanation"></div>
            </div>

            <!-- ç¬¬3ä¸ªå¡ç‰‡ -->
            <div class="card-3 card">
                <!-- åŠŸèƒ½æŒ‰é’® -->
                <div class="func-buttons">
                    <button class="func-btn" id="stroke-btn" title="å†™å­—/ç¬”é¡º" aria-label="æ±‰å­—å†™å­—">âœï¸</button>
                    <button class="func-btn" id="favorites-btn" title="è¯æ±‡æœ¬" aria-label="æŸ¥çœ‹æ”¶è—">ğŸ“š</button>
                    <button class="func-btn" id="speech-btn" title="å‘éŸ³" aria-label="æ’­æ”¾å‘éŸ³"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
   <path d="M11 5L6 9H2v6h4l5 4V5z"/>
   <path d="M15.54 8.46a5 5 0 010 7.07"/>
   <path d="M19.07 4.93a10 10 0 010 14.14"/>
 </svg></button>
                    <button class="func-btn" id="search-btn" title="æœç´¢" aria-label="æœç´¢è¯æ¡">ğŸ”</button>
                    <button class="func-btn" id="share-btn" title="åˆ†äº«" aria-label="åˆ†äº«ç½‘ç«™">ğŸ’¬</button>
                </div>

                <!-- æ¡Œé¢ç«¯åº•éƒ¨å¯¼èˆªé“¾æ¥ -->
                <div class="desktop-bottom-links">
                    <span>About Us</span> | 
                    <span class="nav-link" data-href="https://www.shutterstock.com/zh/g/guangyaohlg?rid=331009" target="_blank" rel="noopener noreferrer" aria-label="Image Content - æ‰“å¼€æ–°çª—å£">Image Content</span> | 
                    <span class="nav-link" data-href="https://preply.com/en/?pref=MjQ4MDIwMTc=&id=1765940292.816984&ep=w2" target="_blank" rel="noopener noreferrer" aria-label="Real Tutor - æ‰“å¼€æ–°çª—å£">Real Tutor</span> | 
                    <span>Follow me on X</span>
                </div>
            </div>
        </div>        

        <!-- å›ºå®šåº•éƒ¨æ ï¼šå­—æ•°æŒ‰é’® + å¯¼èˆªæç¤º -->
        <div class="bottom-fixed-bar">
            <div class="length-selector">
                <button class="len-btn" data-length="1" aria-label="ä¸€å­—è¯">ä¸€</button>
                <button class="len-btn" data-length="2" aria-label="äºŒå­—è¯">äºŒ</button>
                <button class="len-btn" data-length="3" aria-label="ä¸‰å­—è¯">ä¸‰</button>
                <button class="len-btn" data-length="4" aria-label="å››å­—è¯">å››</button>
                <button class="len-btn" data-length="5" aria-label="äº”å­—è¯">äº”</button>
            </div>
        </div>
    </div>

    <!-- æœç´¢æ¨¡æ€æ¡† -->
    <div id="search-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ” æœç´¢ Search</h2>
            </div>
            <div class="modal-body">
                <input 
                    type="text" 
                    id="search-modal-input" 
                    placeholder="ä¸­æ–‡ / Pin Yin / English" 
                    autocomplete="off"
                    autofocus
                />
                <p class="hint">Pin Yin (hao hao xue xi) English (study hard) ä¸­æ–‡ï¼ˆå¥½å¥½å­¦ä¹ ï¼‰</p>
            </div>
            <div class="modal-actions">
                <button class="btn-primary" id="confirm-search">æœç´¢</button>
            </div>
        </div>
    </div>

    <!-- è¯æ±‡å¡ç‰‡ç½‘æ ¼å®¹å™¨ -->
    <div id="wordGrid" class="word-grid" style="display: none;">
        <!-- åŠ¨æ€ç”Ÿæˆçš„è¯æ±‡å¡ç‰‡å°†æ’å…¥è¿™é‡Œ -->
    </div>

    <!-- åŠ è½½æŒ‡ç¤ºå™¨ -->
    <div id="loadingIndicator" class="loading" style="display: none;">
        <div class="spinner"></div>
        <p>æ­£åœ¨åŠ è½½...</p>
    </div>

    <!-- æ— ç»“æœæç¤º -->
    <div id="noResults" class="no-results" style="display: none;">
        <div class="no-results-content">
            <h3>æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„è¯æ¡</h3>
            <p>è¯·å°è¯•å…¶ä»–æœç´¢å…³é”®è¯</p>
        </div>
    </div>

    <!-- Toast æç¤º -->
    <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true" style="display:none;"></div>

    <!-- å¤šæ±‰å­—æç¤ºæ¨¡æ€æ¡† -->
    <div id="stroke-warning-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>æç¤º</h2>
            </div>
            <div class="modal-body">
                <div id="stroke-warning-content" class="stroke-warning-content"></div>
            </div>
            <div class="modal-actions">
                <button id="close-stroke-warning" class="btn-primary">ç¡®å®š</button>
            </div>
        </div>
    </div>

    <!-- ç¬”é¡ºåŠ¨ç”»æ¨¡æ€æ¡† -->
    <div id="stroke-order-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="stroke-modal-title">æ±‰å­—ç¬”é¡º</h2>
            </div>
            <div class="modal-body">
                <div id="stroke-animation-container" class="stroke-animation-container"></div>
                <div class="stroke-controls">
                    <button id="play-stroke" class="btn-primary" title="æ’­æ”¾ç¬”é¡ºåŠ¨ç”»">â–¶</button>
                    <button id="practice-stroke" class="btn-secondary" title="ç»ƒä¹ ä¹¦å†™">ğŸ‘†</button>
                </div>
            </div>
            <div class="modal-actions">
                <button id="close-stroke-modal" class="btn-secondary">âœ•</button>
            </div>
        </div>
    </div>

    <!-- æ˜¾ç¤ºè®¡æ•°å™¨ -->
    <div id="displayCount" class="display-count" style="display: none;">
        <span id="count-number">0</span>
    </div>

    <!-- æ„è§åé¦ˆæ¨¡æ€æ¡† -->
    <div id="feedback-modal" class="modal" style="display: none;">
        <div class="modal-content feedback-modal-content">
            <div class="modal-header">
                <h2 id="feedback-title">ğŸ“ æ„è§åé¦ˆ</h2>
                <p class="subtitle" id="feedback-subtitle">æ‚¨çš„åé¦ˆå¯¹æˆ‘ä»¬éå¸¸é‡è¦</p>
            </div>
            
            <div class="modal-body">
                <!-- é—®é¢˜1ï¼šæœ€å–œæ¬¢çš„åŠŸèƒ½ -->
                <div class="feedback-section">
                    <label class="feedback-label" id="feedback-favorite-label">æ‚¨æœ€å–œæ¬¢çš„åŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Ÿ</label>
                    <div class="feedback-options">
                        <label class="feedback-option">
                            <input type="radio" name="favorite-feature" value="stroke-order">
                            <span id="feedback-opt-stroke">æ±‰å­—ç¬”é¡º</span>
                        </label>
                        <label class="feedback-option">
                            <input type="radio" name="favorite-feature" value="speech">
                            <span id="feedback-opt-speech">è¯­éŸ³å‘éŸ³</span>
                        </label>
                        <label class="feedback-option">
                            <input type="radio" name="favorite-feature" value="search">
                            <span id="feedback-opt-search">æœç´¢åŠŸèƒ½</span>
                        </label>
                        <label class="feedback-option">
                            <input type="radio" name="favorite-feature" value="favorites">
                            <span id="feedback-opt-favorites">æ”¶è—è¯æ±‡</span>
                        </label>
                    </div>
                </div>
                
                <!-- é—®é¢˜2ï¼šæ˜¯å¦æ„¿æ„ä»˜è´¹ -->
                <div class="feedback-section">
                    <label class="feedback-label" id="feedback-willingness-label">æ‚¨æ„¿æ„ä¸ºé«˜çº§åŠŸèƒ½ä»˜è´¹å—ï¼Ÿ</label>
                    <div class="feedback-options">
                        <label class="feedback-option">
                            <input type="radio" name="payment-willingness" value="yes">
                            <span id="feedback-opt-yes">æ„¿æ„</span>
                        </label>
                        <label class="feedback-option">
                            <input type="radio" name="payment-willingness" value="maybe">
                            <span id="feedback-opt-maybe">å¯ä»¥è€ƒè™‘</span>
                        </label>
                        <label class="feedback-option">
                            <input type="radio" name="payment-willingness" value="no">
                            <span id="feedback-opt-no">ä¸æ„¿æ„</span>
                        </label>
                    </div>
                </div>
                
                <!-- é—®é¢˜3ï¼šæœŸå¾…çš„æ–°åŠŸèƒ½ -->
                <div class="feedback-section">
                    <label class="feedback-label" id="feedback-features-label">æ‚¨å¸Œæœ›æˆ‘ä»¬æ·»åŠ ä»€ä¹ˆæ–°åŠŸèƒ½ï¼Ÿ</label>
                    <div class="feedback-options">
                        <label class="feedback-option">
                            <input type="checkbox" name="new-features" value="ai-tutor">
                            <span id="feedback-feat-ai">AIå¯¼å¸ˆè¾…å¯¼</span>
                        </label>
                        <label class="feedback-option">
                            <input type="checkbox" name="new-features" value="live-class">
                            <span id="feedback-feat-live">çœŸäººç›´æ’­è¯¾</span>
                        </label>
                        <label class="feedback-option">
                            <input type="checkbox" name="new-features" value="ocr-scan">
                            <span id="feedback-feat-ocr">æ‹ç…§OCRè¯†å­—</span>
                        </label>
                        <label class="feedback-option">
                            <input type="checkbox" name="new-features" value="more-vocab">
                            <span id="feedback-feat-vocab">æ›´å¤šè¯æ±‡å†…å®¹</span>
                        </label>
                    </div>
                </div>
                
                <!-- é—®é¢˜4ï¼šå…¶ä»–å»ºè®® -->
                <div class="feedback-section">
                    <label class="feedback-label" id="feedback-suggestion-label">å…¶ä»–å»ºè®®ï¼ˆå¯é€‰ï¼‰</label>
                    <textarea id="feedback-suggestion" class="feedback-textarea" placeholder="è¯·è¾“å…¥æ‚¨çš„å»ºè®®..."></textarea>
                </div>
                
                <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
                <div class="feedback-progress">
                    <span id="feedback-progress-text">å·²æ”¶é›† 0/10 æ¡åé¦ˆ</span>
                </div>
                
                <!-- å¯¼å‡ºæŒ‰é’® -->
                <div class="feedback-export-section">
                    <button id="export-feedback" class="btn-secondary feedback-export-btn">
                        ğŸ“¥ <span id="feedback-btn-export">å¯¼å‡ºåé¦ˆæ–‡ä»¶</span>
                    </button>
                    <p class="feedback-export-hint" id="feedback-export-hint">ä¸‹è½½åå¯å‘é€åˆ° X ç§ä¿¡ç»™æˆ‘</p>
                </div>
            </div>
            
            <div class="modal-actions feedback-modal-actions">
                <button id="skip-feedback" class="btn-secondary">
                    <span id="feedback-btn-skip">è·³è¿‡</span>
                </button>
                <button id="submit-feedback" class="btn-primary">
                    <span id="feedback-btn-submit">æäº¤</span>
                </button>
            </div>
        </div>
    </div>


    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>

    <!-- Google Analytics 4 ç»Ÿè®¡ä»£ç å’Œæ¨èç è¿½è¸ª -->
    <script>
        // ========================================
        // è¯·å°† G-XXXXXXXXXX æ›¿æ¢ä¸ºä½ çš„ GA4 æµ‹é‡ID
        // è·å–æ–¹å¼ï¼šhttps://analytics.google.com/
        // ========================================
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-XXXXXXXXXX');

        // ========================================
        // æ¨èç è¿½è¸ªåŠŸèƒ½
        // é¡µé¢åŠ è½½æ—¶è§£æ URL ä¸­çš„ ref å‚æ•°å¹¶æ¨é€åˆ° GA4
        // ========================================
        function initReferralTracking() {
            // ä» URL ä¸­è·å–æ¨èç 
            const urlParams = new URLSearchParams(window.location.search);
            const refCode = urlParams.get('ref');

            if (refCode) {
                console.log('æ£€æµ‹åˆ°æ¨èç :', refCode);

                // å°†æ¨èç ä¿å­˜åˆ° localStorage
                localStorage.setItem('referredBy', refCode);

                // å¦‚æœæ˜¯é¦–æ¬¡è®¿é—®ï¼Œå‘é€åˆ° GA4
                const firstVisit = localStorage.getItem('firstVisitTime');
                if (!firstVisit) {
                    localStorage.setItem('firstVisitTime', Date.now().toString());

                    // å‘é€åˆ° GA4 ä½œä¸ºæ–°ç”¨æˆ·äº‹ä»¶
                    if (typeof gtag !== 'undefined') {
                        gtag('event', 'referral_signup', {
                            'referral_code': refCode,
                            'referral_source': 'share_link'
                        });

                        // åŒæ—¶è®¾ç½®ç”¨æˆ·å±æ€§ï¼Œç”¨äºåœ¨ GA4 åå°æŒ‰æ¨èç ç­›é€‰
                        gtag('set', 'user_properties', {
                            referred_by: refCode
                        });
                    }

                    console.log('æ–°ç”¨æˆ·æ¨èè®°å½•å·²å‘é€åˆ° GA4ï¼Œæ¨èç :', refCode);
                }
            }
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–æ¨èè¿½è¸ª
        initReferralTracking();
    </script>

    <!-- è„šæœ¬ -->
    <script src="src/js/language.js"></script>
    <script src="src/js/font-loader.js"></script>
    <script src="src/js/theme.js"></script>

    <script type="module" src="src/js/app.js"></script>
    <script src="src/js/sw-register.js"></script>

    <script>
        // è·å–è®¾å¤‡æç¤ºçš„è¯­è¨€æ–‡æœ¬
        function getDeviceLanguageText() {
            const userLanguage = localStorage.getItem('userLanguage') || 'default';
            return deviceLanguageTexts[userLanguage] || deviceLanguageTexts['default'];
        }
        
        // è®¾å¤‡æ£€æµ‹é€»è¾‘ï¼ˆç»Ÿä¸€ä½¿ç”¨è¿™ä¸ªå‡½æ•°ï¼‰
        function isDesktopDevice() {
            // æ£€æŸ¥æ˜¯å¦ä¸ºæ¡Œé¢è®¾å¤‡çš„å¤šç§æ–¹æ³•
            const userAgent = navigator.userAgent.toLowerCase();
            const isMobile = /android|webos|iphone|ipad|ipod|blackberry|windows phone|mobile/.test(userAgent);
            const hasTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
            const screenWidth = window.innerWidth;
            
            // å¦‚æœä¸æ˜¯ç§»åŠ¨è®¾å¤‡ï¼Œä¸”ä¸æ”¯æŒè§¦æ‘¸ï¼Œä¸”å±å¹•å®½åº¦è¶³å¤Ÿå¤§ï¼Œåˆ™åˆ¤æ–­ä¸ºæ¡Œé¢è®¾å¤‡
            return !isMobile && !hasTouch && screenWidth > 768;
        }
        
        // æ˜¾ç¤ºè®¾å¤‡æç¤ºæ¨¡æ€æ¡†
        function showDeviceModal() {
            const deviceModal = document.getElementById('device-modal');
            if (deviceModal) {
                deviceModal.style.display = 'flex';
                
                // æ ¹æ®ç”¨æˆ·è¯­è¨€æ›´æ–°æ¨¡æ€æ¡†å†…å®¹
                const texts = getDeviceLanguageText();
                
                const titleElement = document.getElementById('device-modal-title');
                const messageElement = document.getElementById('device-message-native');
                const dismissButtonElement = document.getElementById('dismiss-button-text');
                
                if (titleElement) titleElement.textContent = texts.title;
                if (messageElement) messageElement.textContent = texts.message;
                if (dismissButtonElement) dismissButtonElement.textContent = texts.dismiss;
            }
        }
        
        // å…³é—­è®¾å¤‡æç¤ºæ¨¡æ€æ¡†
        function dismissDeviceModal() {
            const deviceModal = document.getElementById('device-modal');
            if (deviceModal) {
                deviceModal.style.display = 'none';
            }
        }
        
        // é¡µé¢åŠ è½½æ—¶æ£€æµ‹è®¾å¤‡ç±»å‹
        document.addEventListener('DOMContentLoaded', function() {
            // ä¸ºå…³é—­æŒ‰é’®æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
            const dismissBtn = document.getElementById('dismiss-device-notice');
            if (dismissBtn) {
                dismissBtn.addEventListener('click', dismissDeviceModal);
            }
            
            // æ£€æŸ¥æ˜¯å¦å·²ç»æœ‰é€‰æ‹©çš„è¯­è¨€
            const userLanguage = localStorage.getItem('userLanguage');
            
            if (userLanguage) {
                // å¦‚æœå·²ç»é€‰æ‹©äº†è¯­è¨€ï¼Œç›´æ¥æ˜¾ç¤ºè®¾å¤‡æç¤º
                if (isDesktopDevice()) {
                    showDeviceModal();
                }
            } else {
                // å¦‚æœè¿˜æ²¡æœ‰é€‰æ‹©è¯­è¨€ï¼Œç›‘å¬è¯­è¨€é€‰æ‹©äº‹ä»¶
                window.addEventListener('languageSelected', function() {
                    if (isDesktopDevice()) {
                        showDeviceModal();
                    }
                });
            }
        });
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('å­¦ä¸­æ–‡åº”ç”¨åˆå§‹åŒ–...');
            
            if (typeof languageManager !== 'undefined') {
                languageManager.init().catch(err => {
                    console.error('âŒ è¯­è¨€ç®¡ç†å™¨åˆå§‹åŒ–å¤±è´¥:', err);
                });
            }
        });
    </script>
</body>
</html>
